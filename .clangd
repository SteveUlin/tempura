If:
  PathMatch: .*\.cu
CompileFlags:
  Add:
    - --cuda-gpu-arch=sm_86
    - -std=c++17
    - -xcuda
    #- -I $CUDA_PATH/include/
  Remove:
    - -forward-unknown-to-host-compiler
    - --generate-code*
    - -rdc=*
    - -Xcompiler*

---
# Lighter restrictions for heavy template files - keep functionality
If:
  PathMatch: [src/symbolic3/.*, src/meta/.*]
Index:
  Background: Skip
Diagnostics:
  UnusedIncludes: None
  MissingIncludes: None
---
If:
  PathMatch: [.*\.h, .*\.cpp]
Diagnostics:
  UnusedIncludes: Strict
  MissingIncludes: Strict
---
CompileFlags:
  CompilationDatabase: build/
  Add:
    - -std=c++2c
    - -ftemplate-depth=2048
    - -fconstexpr-depth=2048
Index:
  Background: Build

Diagnostics:
  ClangTidy:
    Add:
      - performance-*
      - modernize-*
      - readability-*
      - bugprone-*
    Remove:
      - bugprone-easily-swappable-parameters
      - modernize-use-nodiscard
      - readability-identifier-length
      - readability-magic-numbers
      - readability-static-accessed-through-instance
      - readability-function-cognitive-complexity
      - readability-braces-around-statements
      - readability-math-missing-parentheses
      - readability-named-parameter
      - modernize-use-designated-initializers
